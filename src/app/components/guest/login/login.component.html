<div *ngIf="!cargando" class="container my-5 container-personalizado" data-aos="fade-up">
  <div class="card card-custom">
    <div class="text-center mb-3">
      <img src="images/logimg.png" alt="Logo" class="logo-img">
    </div>

    <h3 class="text-center mb-4">INICIA SESIÓN</h3>

    <!-- Mensaje de error general -->
    <div *ngIf="errorMessage" class="alert alert-danger text-center">
      {{ errorMessage }}
    </div>

    <form (ngSubmit)="onSubmit()" #loginForm="ngForm">
      <div class="input-group-custom d-flex align-items-center">
        <span class="input-icon">
          <fa-icon [icon]="faUser"></fa-icon>
        </span>
        <input 
          type="text" 
          class="form-control input-field" 
          placeholder="Correo Electrónico" 
          name="email" 
          [(ngModel)]="email" 
          required>
      </div>
      <div style="margin-bottom:10px ;"class="text-center">
        <small *ngIf="erroresValidacion?.email" class="text-danger">
          {{ erroresValidacion.email[0] }}
        </small>
      </div>
      

      <div class="input-group-custom d-flex align-items-center">
        <span class="input-icon">
          <fa-icon [icon]="faKey"></fa-icon>
        </span>
        <input 
          [type]="verPassword ? 'text' : 'password'"
          class="input-field" 
          placeholder="Contraseña" 
          name="password" 
          [(ngModel)]="password" 
          required
        >
        <span class="input-icon toggle-pass" (click)="verPassword = !verPassword">
          <fa-icon [icon]="verPassword ? faEyeSlash : faEye"></fa-icon>
        </span>
      </div>
      <div style="margin-bottom:10px ;"class="text-center">
        <small *ngIf="erroresValidacion?.password" class="text-danger">
          {{ erroresValidacion.password[0] }}
        </small>
      </div>
      
      
      <button 
        class="btn-custom w-100 mt-3" 
        type="submit" 
        [disabled]="isLoading"
      >
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm"></span>
        <span *ngIf="!isLoading">Iniciar Sesión</span>
      </button>

      <p class="text-center mt-3">
        ¿Aún no tienes cuenta? <a routerLink="/auth/register" class="text-decoration-none">Regístrate aquí</a>
      </p>
    </form>
  </div>
</div>
