<div class="container my-5" data-aos="fade-up">
  <div class="card card-custom">
    <div class="text-center mb-3">
      <img src="images/logimg.png" alt="Logo" class="logo-img">
    </div>
    <h3 class="text-center mb-4">REGÍSTRATE</h3>

    <form (ngSubmit)="onRegister()" #registerForm="ngForm" novalidate>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group-custom d-flex align-items-center">
            <i class="fa-regular fa-user"></i>
            <input type="text" class="form-control" placeholder="Nombre" name="nombre" [(ngModel)]="nombre">
          </div>
          <small *ngIf="erroresValidacion.nombre" class="text-danger text-center d-block">
            {{ erroresValidacion.nombre[0] }}
          </small>
        </div>

        <div class="col-md-6">
          <div class="input-group-custom d-flex align-items-center">
            <i class="fa-regular fa-user"></i>
            <input type="text" class="form-control" placeholder="Apellidos" name="apellido" [(ngModel)]="apellido">
          </div>
          <small *ngIf="erroresValidacion.apellido" class="text-danger text-center d-block">
            {{ erroresValidacion.apellido[0] }}
          </small>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="input-group-custom d-flex align-items-center">
            <i class="fa-solid fa-weight-scale"></i>
            <input type="number" class="form-control" placeholder="Peso (kg)" name="peso" [(ngModel)]="peso" min="20" max="150" step="0.01">
          </div>
          <small *ngIf="erroresValidacion.peso" class="text-danger text-center d-block">
            {{ erroresValidacion.peso[0] }}
          </small>
        </div>

        <div class="col-md-6">
          <div class="input-group-custom d-flex align-items-center">
            <i class="fa-solid fa-ruler"></i>
            <input type="number" class="form-control" placeholder="Estatura (m)" name="estatura" [(ngModel)]="estatura" min="1.10" max="2.20" step="0.01">
          </div>
          <small *ngIf="erroresValidacion.estatura" class="text-danger text-center d-block">
            {{ erroresValidacion.estatura[0] }}
          </small>
        </div>
      </div>

      <div class="input-group-custom d-flex align-items-center">
        <i class="fa-regular fa-envelope"></i>
        <input type="email" class="form-control" placeholder="Email" name="email" [(ngModel)]="email">
      </div>
      <small *ngIf="erroresValidacion.email" class="text-danger text-center d-block">
        {{ erroresValidacion.email[0] }}
      </small>

      <div class="input-group-custom d-flex align-items-center">
        <i class="fa-solid fa-key"></i>
        <input [type]="verPassword ? 'text' : 'password'" class="form-control" placeholder="Contraseña" name="password" [(ngModel)]="password">
        <span class="toggle-pass ms-2" (click)="verPassword = !verPassword">
          <fa-icon [icon]="verPassword ? faEyeSlash : faEye"></fa-icon>
        </span>
      </div>
      <small *ngIf="erroresValidacion.password" class="text-danger text-center d-block">
        {{ erroresValidacion.password[0] }}
      </small>

      <!-- CONFIRMAR CONTRASEÑA -->
      <div class="input-group-custom d-flex align-items-center">
        <i class="fa-solid fa-key"></i>
        <input type="password" 
               class="form-control" 
               [ngClass]="{'is-invalid': erroresValidacion.confirm_password}" 
               placeholder="Confirmar contraseña" 
               name="confirmPassword" 
               [(ngModel)]="confirm_password">
      </div>
      <small *ngIf="erroresValidacion.confirm_password" class="text-danger text-center d-block">
        {{ erroresValidacion.confirm_password[0] }}
      </small>      

      <button type="submit" class="btn btn-custom w-100 mt-2" [disabled]="isLoading">
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm"></span>
        <span *ngIf="!isLoading">Registrarse</span>
      </button>

      <p class="text-center mt-3">
        ¿Ya tienes cuenta? <a routerLink="/auth/login" class="text-decoration-none">Inicia sesión</a>
      </p>

    </form>
  </div>
</div>
